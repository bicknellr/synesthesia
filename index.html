<html>
<head>

<script src="./module.js"></script>
<script src="./Utilities.js"></script>
<script src="./Synesthesia.js"></script>
  <link rel="stylesheet" href="./Synesthesia.css" />
<script src="./Synesthesia.Graph.js"></script>
<script src="./Synesthesia.UI.js"></script>
  <link rel="stylesheet" href="./Synesthesia.UI.css" />
<script src="./Synesthesia.UILibrary.js"></script>
  <link rel="stylesheet" href="./Synesthesia.UILibrary.css" />
<script src="./Synesthesia.WindowSystem.js"></script>
  <link rel="stylesheet" href="./Synesthesia.WindowSystem.css" />
<script src="./Synesthesia.NodeLibrary.js"></script>

<style type="text/css">

body {
  margin: 0px;
  padding: 0px;
}

#SynesthesiaUIContainer {
  position: relative;
  overflow: hidden;
  width: 100%;
  height: 100%;
}

</style>

<script type="application/javascript">

window.addEventListener("load", function () {
  module.declare("MAIN", ["Synesthesia", "Synesthesia:NodeLibrary"], function () {

    var Synesthesia = module.require("Synesthesia");
    var NodeLibrary = module.require("Synesthesia:NodeLibrary");
    
    MainSynesthesia = new Synesthesia({
      container: document.getElementById("SynesthesiaUIContainer"),
    });

    MainOutput = new NodeLibrary.MainOutput({
      synesthesia: MainSynesthesia
    });
    MainSynesthesia.getUI().addNode(MainOutput, {
      x: 300, y: 10
    });

    MainKeyboard = new NodeLibrary.KeyboardInput({
      synesthesia: MainSynesthesia
    });
    MainSynesthesia.getUI().addNode(MainKeyboard, {
      x: 20, y: 10
    });

    TestOsc1 = new NodeLibrary.Oscillator({
      synesthesia: MainSynesthesia,
      type: NodeLibrary.Oscillator.Type.SINE
    });
    //MainSynesthesia.mapInput(MainKeyboard, TestOsc1);
    MainSynesthesia.getUI().addNode(TestOsc1, {
      x: 20, y: 130
    });

    TestOsc2 = new NodeLibrary.Oscillator({
      synesthesia: MainSynesthesia,
      type: NodeLibrary.Oscillator.Type.SINE
    });
    //MainSynesthesia.mapInput(MainKeyboard, TestOsc2);
    MainSynesthesia.getUI().addNode(TestOsc2, {
      x: 20, y: 200
    });

    TestGain1 = new NodeLibrary.Gain({
      synesthesia: MainSynesthesia
    });
    MainSynesthesia.getUI().addNode(TestGain1, {
      x: 160, y: 10
    });

    TestGain2 = new NodeLibrary.Gain({
      synesthesia: MainSynesthesia
    });
    MainSynesthesia.getUI().addNode(TestGain2, {
      x: 160, y: 70
    });

    TestDelay1 = new NodeLibrary.Delay({
      synesthesia: MainSynesthesia
    });
    MainSynesthesia.getUI().addNode(TestDelay1, {
      x: 300, y: 250
    });

    TestOscilloscope = new NodeLibrary.Oscilloscope({
      synesthesia: MainSynesthesia
    });
    MainSynesthesia.getUI().addNode(TestOscilloscope, {
      x: 300, y: 130,
    });

    TestBiquadFilter = new NodeLibrary.BiquadFilter({
      synesthesia: MainSynesthesia
    });
    MainSynesthesia.getUI().addNode(TestBiquadFilter, {
      x: 20, y: 370
    });

    TestPanner = new NodeLibrary.Panner({
      synesthesia: MainSynesthesia
    });
    MainSynesthesia.getUI().addNode(TestPanner, {
      x: 440, y: 10
    });

    TestDynamicsCompressor = new NodeLibrary.DynamicsCompressor({
      synesthesia: MainSynesthesia
    });
    MainSynesthesia.getUI().addNode(TestDynamicsCompressor, {
      x: 460, y: 370
    });

    TestLiveInput = new NodeLibrary.LiveInput({
      synesthesia: MainSynesthesia
    });
    MainSynesthesia.getUI().addNode(TestLiveInput, {
      x: 460, y: 500
    });

  });
}, false);

</script>
</head>
<body>

<div id="SynesthesiaUIContainer"></div>

</body>
</html>
